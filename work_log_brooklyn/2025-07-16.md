## Log
* Packages I found I needed:
	* cmake
	* gcc-arm-none-eabi
- Pico-ice to dos:
	- Compile pico-ice-sdk and pico2-ice-sdk[ ]
	- Flash pico
	- Get basic "LED ON" example in python, then get it running in FPGA
	- Get serial terminal commands working in pico
	- Benchmark flashing time for 4 different bitstreams: 
		- LED on
		- Bram controller
		- riscV cpu
	- Benchmark of writing to FPGA flash and Pi flash
- I decided the easiest way to manage the pico-ice stuff was to just use a dev build of apio for now
	- docs regarding apio.ini file
		- https://fpgawars.github.io/apio/project-file/
- **MINICOM IS BAD** (I dont like it)
	- probably tell people to install [Tio](https://github.com/tio/tio) (package also available)
	- picocom also used by some people, seems too minimal for our application, target is to be approachable
- Pico-**ice** default firmware:
	- in main [repo](https://github.com/tinyvision-ai-inc/pico-ice/tree/main/Firmware/pico-ice-default)
	- We should **maintain compatibility** with the reset convention in our codebase using baud 1200 and modeling all of our code off of the "default firmware" project available in the main [repo]()
	- ***FIRMWARE SETUP*** options:
		1. Download precompiled:
			1. get pico-ice firmware most [recent version](https://github.com/tinyvision-ai-inc/pico-ice/releases) (we care about the uf2 file)
			2. Flash onto the pico using the instructions in the [docs](https://pico-ice.tinyvision.ai/md_programming__the__mcu.html) **FULL JUMPER PROCESS LIKELY REQUIRED FOR FIRST FLASH**
				*  If we maintain compatibility with the convention then we should be fine after this and not have to jumper anything
		2. Build from source (script attached below)
			1. clone pico-ice repo
			2. init the submodules for pico-sdk and pico-ice-sdk
			3. navigate to Firmware/pico-ice-default dir
			4.  `mkdir build && cd build`
			5. cmake using correct flag for board: i.e. `cmake -DPICO_BOARD=pico_ice ..` or `cmake -DPICO_BOARD=pico2_ice ..`
			6. make -j$(nproc)
			7. 
- Notes on how pico-ice handles flashing their fpga from the pico memory:
	- they have a python script that takes in their bin files, and then appends 0x in between each 2 bytes. . . all in an array
	- outputs a c header file to be included (appended at bottom of LOG)
	- 

Build Script for default pico-firmware:
``` bash
# Set your board here: pico_ice or pico2_ice
# Someday when we are making our own guide for this,
# probably make an interactive script for selecting the board
BOARD=pico2_ice

git clone https://github.com/tinyvision-ai-inc/pico-ice.git
cd pico-ice/Firmware || exit 1
git -C pico-ice-sdk submodule update --init
git -C pico-sdk submodule update --init lib/tinyusb
cd pico-ice-default || exit 1
mkdir build && cd build || exit 1
cmake -DPICO_BOARD=pico2_ice ..
make -j$(nproc)
```


``` bash
# Set your board here: pico_ice or pico2_ice
# Someday when we are making our own guide for this,
# probably make an interactive script for selecting the board
BOARD=pico2_ice

git clone https://github.com/tinyvision-ai-inc/pico-ice.git
cd pico-ice || exit 1
git submodule update --init
cd Firmware/pico-ice-default || exit 1
mkdir build && cd build || exit 1
cmake ..
make -j$(nproc)
```


Sample pico-ice implementation of header file bitstream:
``` c
	#include <stdint.h>
	
	uint8_t const rgb_blink[] = {

	0xFF, 0x00, 0x00, 0xFF, 0x7E, 0xAA, 0x99, 0x7E, 0x51, 0x00, 0x01, 0x05, 0x92, 0x00, 0x20, 0x62,
	0x02, 0xB3, 0x82, 0x00, 0x00, 0x72 ... }
	```
	
## Next
- [ ]

[[2025-07-15|prev]] [[2025-07-17|next]]
