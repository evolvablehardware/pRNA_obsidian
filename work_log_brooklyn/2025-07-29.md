## Log
- Got print and timing tests working, seems to be about 5x faster to write a formatted string directly to the usb_cdc buffer using `tud_cdc_write_str(..)` compared to using printf (roughly 30us vs 5us)
- There are two easy ways to time something within pico-sdk, both -to my knowlege- have the same granularity of 1ms:
	1. use built in pico-sdk time functions at `pico/time.h`, these allow you to get microseconds and miliseconds
		* The function naming is pretty confusing, but theres only like two things we actually care about (periodically calling stuff and measuring the runtime of smth)
		* specific to pico
	2. make the project in C++ and use the `<chrono>` library.
		* This requires using a bunch of namespaces and might look pretty foreign to underclassmen
		* More applicable to general purpose C++ programming
		* Wide range of tutorial material/online resources
* It would be nice to have all female 90 degree pins even in the non PMOD 2x3 slots like [these](https://www.aliexpress.us/item/2255800144094493.html?gatewayAdapt=glo2usa4itemAdapt#nav-specification) The pinouts would remain readable. We could even purchase 2x20 and just have one connector for the entire row of pins (both the pico2-ice and pico1-ice have the same physical pinout)
* 

Output of lsusb with the c-sdk:
>[!NOTE]- lsusb verbose output
> ```
>Bus 001 Device 043: ID 1209:b1c0 Generic pico-ice
>Device Descriptor:
>  bLength                18
>  bDescriptorType         1
>  bcdUSB               1.10
>  bDeviceClass          239 Miscellaneous Device
>  bDeviceSubClass         2 [unknown]
>  bDeviceProtocol         1 Interface Association
>  bMaxPacketSize0        64
>  idVendor           0x1209 Generic
>  idProduct          0xb1c0 pico-ice
>  bcdDevice            1.00
>  iManufacturer           1 tinyVision.ai Inc.
>  iProduct                2 pico-ice
>  iSerial                 3 A830D01BAB02C097
>  bNumConfigurations      1
>  Configuration Descriptor:
>    bLength                 9
>    bDescriptorType         2
>    wTotalLength       0x00a8
>    bNumInterfaces          5
>    bConfigurationValue     1
>    iConfiguration          0 
>    bmAttributes         0x80
>      (Bus Powered)
>    MaxPower              500mA
>    Interface Association:
>      bLength                 8
>      bDescriptorType        11
>      bFirstInterface         0
>      bInterfaceCount         2
>      bFunctionClass          2 Communications
>      bFunctionSubClass       2 Abstract (modem)
>      bFunctionProtocol       0 
>      iFunction               0 
>    Interface Descriptor:
>      bLength                 9
>      bDescriptorType         4
>      bInterfaceNumber        0
>      bAlternateSetting       0
>      bNumEndpoints           1
>      bInterfaceClass         2 Communications
>      bInterfaceSubClass      2 Abstract (modem)
>      bInterfaceProtocol      0 
>      iInterface             10 RP2040 logs
>      CDC Header:
>        bcdCDC               1.20
>      CDC Call Management:
>        bmCapabilities       0x00
>        bDataInterface          1
>      CDC ACM:
>        bmCapabilities       0x06
>          sends break
>          line coding and serial state
>      CDC Union:
>        bMasterInterface        0
>        bSlaveInterface         1 
>      Endpoint Descriptor:
>        bLength                 7
>        bDescriptorType         5
>        bEndpointAddress     0x81  EP 1 IN
>        bmAttributes            3
>          Transfer Type            Interrupt
>          Synch Type               None
>          Usage Type               Data
>        wMaxPacketSize     0x0008  1x 8 bytes
>        bInterval              16
>    Interface Descriptor:
>      bLength                 9
>      bDescriptorType         4
>      bInterfaceNumber        1
>      bAlternateSetting       0
>      bNumEndpoints           2
>      bInterfaceClass        10 CDC Data
>      bInterfaceSubClass      0 [unknown]
>      bInterfaceProtocol      0 
>      iInterface              0 
>      Endpoint Descriptor:
>        bLength                 7
>        bDescriptorType         5
>        bEndpointAddress     0x02  EP 2 OUT
>        bmAttributes            2
>          Transfer Type            Bulk
>          Synch Type               None
>          Usage Type               Data
>        wMaxPacketSize     0x0040  1x 64 bytes
>        bInterval               0
>      Endpoint Descriptor:
>        bLength                 7
>        bDescriptorType         5
>        bEndpointAddress     0x82  EP 2 IN
>        bmAttributes            2
>          Transfer Type            Bulk
>          Synch Type               None
>          Usage Type               Data
>        wMaxPacketSize     0x0040  1x 64 bytes
>        bInterval               0
>    Interface Association:
>      bLength                 8
>      bDescriptorType        11
>      bFirstInterface         2
>      bInterfaceCount         2
>      bFunctionClass          2 Communications
>      bFunctionSubClass       2 Abstract (modem)
>      bFunctionProtocol       0 
>      iFunction               0 
>    Interface Descriptor:
>      bLength                 9
>      bDescriptorType         4
>      bInterfaceNumber        2
>      bAlternateSetting       0
>      bNumEndpoints           1
>      bInterfaceClass         2 Communications
>      bInterfaceSubClass      2 Abstract (modem)
>      bInterfaceProtocol      0 
>      iInterface             11 iCE40 UART
>      CDC Header:
>        bcdCDC               1.20
>      CDC Call Management:
>        bmCapabilities       0x00
>        bDataInterface          3
>      CDC ACM:
>        bmCapabilities       0x06
>          sends break
>          line coding and serial state
>      CDC Union:
>        bMasterInterface        2
>        bSlaveInterface         3 
>      Endpoint Descriptor:
>        bLength                 7
>        bDescriptorType         5
>        bEndpointAddress     0x83  EP 3 IN
>        bmAttributes            3
>          Transfer Type            Interrupt
>          Synch Type               None
>          Usage Type               Data
>        wMaxPacketSize     0x0008  1x 8 bytes
>        bInterval              16
>    Interface Descriptor:
>      bLength                 9
>      bDescriptorType         4
>      bInterfaceNumber        3
>      bAlternateSetting       0
>      bNumEndpoints           2
>      bInterfaceClass        10 CDC Data
>      bInterfaceSubClass      0 [unknown]
>      bInterfaceProtocol      0 
>      iInterface              0 
>      Endpoint Descriptor:
>        bLength                 7
>        bDescriptorType         5
>        bEndpointAddress     0x04  EP 4 OUT
>        bmAttributes            2
>          Transfer Type            Bulk
>          Synch Type               None
>          Usage Type               Data
>        wMaxPacketSize     0x0040  1x 64 bytes
>        bInterval               0
>      Endpoint Descriptor:
>        bLength                 7
>        bDescriptorType         5
>        bEndpointAddress     0x84  EP 4 IN
>        bmAttributes            2
>          Transfer Type            Bulk
>          Synch Type               None
>          Usage Type               Data
>        wMaxPacketSize     0x0040  1x 64 bytes
>        bInterval               0
>    Interface Descriptor:
>      bLength                 9
>      bDescriptorType         4
>      bInterfaceNumber        4
>      bAlternateSetting       0
>      bNumEndpoints           0
>      bInterfaceClass       254 Application Specific Interface
>      bInterfaceSubClass      1 Device Firmware Update
>      bInterfaceProtocol      2 
>      iInterface             30 iCE40 DFU (Flash)
>    Interface Descriptor:
>      bLength                 9
>      bDescriptorType         4
>      bInterfaceNumber        4
>      bAlternateSetting       1
>      bNumEndpoints           0
>      bInterfaceClass       254 Application Specific Interface
>      bInterfaceSubClass      1 Device Firmware Update
>      bInterfaceProtocol      2 
>      iInterface             31 iCE40 DFU (CRAM)
>      Device Firmware Upgrade Interface Descriptor:
>        bLength                             9
>        bDescriptorType                    33
>        bmAttributes                        1
>          Will Not Detach
>          Manifestation Intolerant
>          Upload Unsupported
>          Download Supported
>        wDetachTimeout                   1000 milliseconds
>        wTransferSize                     256 bytes
>        bcdDFUVersion                   1.01
>Device Status:     0x0000
>  (Bus Powered)


## Next
- Sort out the details with RGB pinout on pico vs pico2
- Set up examples of using the PMOD pins between the pico and the FPGA
- Test usage of picotool to program the pico more easily than what we've been doing
	- possibly `picotool load <filename> --force --execute`
		- -f, --force 
		  (Force a device not in BOOTSEL mode but running compatible code to reset so the command can be executed. After executing the command (unless the command itself is a 'reboot') the device will be rebooted back to application mode)
		- -x --execute 
		  (Attempt to execute the downloaded file as a program after the load)

[[2025-07-28|prev]] [[2025-07-30|next]]
