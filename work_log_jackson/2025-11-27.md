## Log
- Refactor client for future firmware extension, todo:
	- Split NotificationSender between the device specific notifications and the worker ones.
	- Add bus endpoint to UsbipState. No longer receive usbip specific (bus/port) connection info from reservation requests or store in database. In UsbipClient, request info from worker on reservation.
	- Create abc for each client interface, decorate handlers for eventserver to know which method to use (same as worker state)
	- Need to abstract ControlAPI for different firmware options. Should be able to generate these from the firmware states, planning to produce code rather than make the classes at runtime for type hints
	- In the case of usbip export, can get connection info from client instead of injecting into event - no need to modify server
	- For creating states in the first place, use event style decorator on state class, specify init args from reserve request
	- Still need to do original usbip disconnect detection
		- Planning to let devices optionally subscribe to kernel events in addition to user
	
## Next
- Finish worker.py - check for clientname

[[work_log_jackson/2025-11-26|prev]] [[work_log_jackson/2025-11-28|next]]
