## Log
- Currently, worker communication to the client happens by sending http requests to the clients event server. This works great, but it is annoying to have to have an exposed server on the client, especially in containers. My hope is to extend the current event server to allow for the client to instead optionally connect through a websocket on each of the workers. Not only will this make container deployments easier, it also will improve performance, as there is frequent communication to the same server.
- Naturally, it feels like we should also send requests to the workers through these instead... I'm not going to focus on this part for now, since really I'm doing this to remove the server hosting requirement. Going to happen eventually though.
- Going to also have to then use a socket for failure events from the control server. This will have the most impact, as this will change how the client needs to be constructed. 
- Switched event server over to using sockets
- Switched worker over to using sockets
- Made new BaseClient for common operations between control/worker api and event server
## Next
- Update PulseCountState since tempfile is no longer needed
- Move heartbeat.py functionality into main control server
- Add socket connection between client and main server to receive reservation status updates
- Update bases to use prototypes rather than baseapi
- Update project req - sockets, gevent, remove waitress?
- Update examples

[[work_log_jackson/2025-12-10|prev]] [[work_log_jackson/2025-12-12|next]]
