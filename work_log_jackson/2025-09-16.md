## Log
- Read Squid docs
- Squid setup
	- The csv_data config option in the template config is somedata, Client.handle_save_data was trying to write to saved_agents/\[id]/data/data.csv and failing, so I changed the option to data and it seems to have fixed the issue. 
- Able to run template experiment
- Able to run by starting up separate node/broker/run processes on same computer
- Set up Squid on pi
- Using separate devices I get the following error in the run process: Exp loop error from experiment thread, all workers died.
	- I tried running run/broker on one device and node on the other. I also tried broker/node on one device and run on the other. Both result in the same error.
	- The log on the node process goes from Status: Active to Aborting experiment. The broker log is the one that says all workers died, aborting. Seems to be that the error starts from the broker. 
	- When I run with -t I get an address already in use message, probably have to set up another device?
	- I set up Squid on another device. I read through the docs and realized that -t runs in local mode, so the previous issue I was having was from trying to run two instances at once, since I also had to broker running. This means that the address in use message is irrelevant to the issue with the workers dying. 
	- Looking through the broker log, we get to gen 1 iteration 9 before the worker dies. I'm not sure if this means that iteration 9 is completed and it fails during 10, or it fails during 9. Looking at the configuration, the save interval is every 10, so I suspect that it fails during the save.
	- After messing with the save interval, this doesn't appear to be the case. However, it still seems to always crash at iteration 9 or 10. 
	- Still crashes after removing data logging, data dir files are empty 
	- I think its probably a networking issue, the worker can't form a connection back to the broker after finishing?
	

- [ ] Setup Pi for distributed experiment
- [ ] Figure out bitstreamevolution arch
	- I'm pretty sure there is a dockerfile somewhere? 
## Next
- [ ]

[[work_log_jackson/2025-09-15|prev]] [[work_log_jackson/2025-09-17|next]]
