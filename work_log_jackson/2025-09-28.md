## Log
- Issue with usbip management system
	- When a device is exported with usbip, we essentially lose access to the device - it does not generate system events or have a dev file. This means that if a device becomes disconnected while being exported with usbip, we have no way of knowing. 
	- I don't think this is as bad as it sounds? Usbip exports an entire bus rather than a single device file, and we can detect if the entire bus disconnects (this might have to be done with polling though, unless the kernel version of the pyudev event listener works for this).
		- The tracked information is really to make sure that everything is exported correctly rather than keep track of the individual devices - after the client connects to a bus, these will have to be rediscovered anyways. 
		- Realistically, all the devices are being connected under the same bus anyways, unless for some reason we wanted to present it as a usb hub, so we don't really need to figure out what busid has a specific dev file, only what one goes to a specific device.
	- I think we can solve the not having reliable information about what dev files a device is exporting by just not including it as an endpoint in the server view - its not that useful anyways because the connecting device will have to make new dev files. 
	- The larger issue is if we disconnect completely from a device, we don't get an event. Worst case scenario, we can fix it by polling for exported buses from usbip and devices will have to confirm that the exported device exists before connecting to it. We might be able to use kernel device events to detect it. 
## Next
- Deal with device disconnect issue
- Make a client for interfacing?
	- On one hand, I think a simple interface to list the added dev files after connecting to a usbip bus would be really useful. On the other, I think that there are very few projects that would realistically benefit from this, as this would not be useful for anything that involves devices reconnecting (such as after uploading to ice40). 
	- I think what is really necessary is something very similar to the internals of the server side, where device events are tracked and logged. I think the best approach might actually by to have these in the same codebase, but I'm still thinking about how the current system would need to be adjusted. 
- Learn about the Picos pin io

[[work_log_jackson/2025-09-27|prev]] [[work_log_jackson/2025-09-29|next]]
